<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>{{ config.SITE_NAME }}</title>

<!-- CSS files (external and own, just main for all pages) -->
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style/ext/jquery.datetimepicker.min.css') }}" />
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style/ext/jquery-ui.min.css') }}" />
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style/main.css') }}" />

{% if devices %}
<script>
    var devices = JSON.parse('{{ devices | tojson | safe }}');
</script>
{% endif %}
{% if devices %}
<script>
    var masterList = JSON.parse('{{ masterlist | tojson | safe }}');
</script>
{% endif %}
<script>
    let iframe_capavis = "{{ config.IFRAME_CAPAVIS }}"
    let iframe_energy_usage = "{{ config.IFRAME_ENERGY_USAGE }}"
</script>

<!-- exernal JS files -->
<script type="text/javascript" src="{{ url_for('static', filename='script/ext/jquery-3.7.1.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='script/ext/jquery-ui.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='script/ext/d3.v7.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='script/ext/jquery.datetimepicker.full.min.js') }}"></script>
<script type='text/javascript' src="{{ url_for('static', filename='script/ext/plotly-2.32.0.min.js') }}"></script>

<!-- own JS files -->
<script type="text/javascript" src="{{ url_for('static', filename='script/dataloader.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='script/auth.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='script/popup-context.js') }}"></script>
{% block head -%}
{% endblock -%}
</head>
<body>
    <div id="nav-parent">
    <nav id="nav-top-bar">
    <script>
    const STATIC_URLS = {
        logo: "{{ url_for('static', filename='gfx/logo.png') }}",
        settings: "{{ url_for('static', filename='gfx/settings.png') }}"
    };
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='script/navtopbar.js') }}"></script>
    </nav>
    </div>

    <!--
    <div id="login-container" class="hidden">
        <div id="login-div" class="hidden">
            Enter email address:
            <br> <input type="text" id="email" class="auth" autofocus="" placeholder="Email" onkeypress="checkKeyPressAuth(event)" /><br>
            <button type="button" onclick="requestLogin()" class="auth" id="button-login">Request login token</button><br>
            <div id="response-div"></div>
        </div>
        <div id="loggedin-div" class="hidden">
            Logged in as:<br><br>
            <span id="username-span">Username</span><br><br>
            <button type="button" onclick="logout()" class="auth" id="button-logout">Logout (NYI)</button>
        </div>
    </div>
    -->
    
    <div id="comment-bubble" class="hidden" onclick="commentBubbleClicked()">
        <img src="{{ url_for('static', filename='gfx/comment-bubble.png') }}" alt="Comment bubble" width="32" />
        <span id="comment-tooltiptext">Add a comment!</span>
        <div id="comment-tooltipmodeengaged" class="hidden"><b>Edit mode:</b><br>Click on an element<br>to add a comment.</div>
    </div>
    {% include 'popup-context.html' %}

    <div id="content-parent">
    {% block content %}
	{% endblock %}
    </div>

    <div id="footer">
	    <span id="footer">Created by <a href="https://wp.lancs.ac.uk/net0i/">the Net0i Team at Lancaster University</a>, 2024.</span>
	</div>
	</body>
</html>
